<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
	<!-- Terminals (monospace) -->
	<match target="pattern">
		<test name="family" compare="eq">
			<string>monospace</string>
		</test>
		<edit name="family" mode="prepend">
			<string>IosevkaTerm NFM</string>
		</edit>
	</match>

	<!-- GUI (sans-serif) -->
	<match target="pattern">
		<test name="family" compare="eq">
			<string>sans-serif</string>
		</test>
		<edit name="family" mode="prepend">
			<string>Iosevka NFP</string>
		</edit>
	</match>

	<!-- Documents (serif) -->
	<match target="pattern">
		<test name="family" compare="eq">
			<string>serif</string>
		</test>
		<edit name="family" mode="prepend">
			<string>IosevkaTermSlab NFP</string>
		</edit>
	</match>

	<!-- System (system-ui) -->
	<match target="pattern">
		<test name="family" compare="eq">
			<string>system-ui</string>
		</test>
		<edit name="family" mode="prepend">
			<string>Iosevka NFP</string>
		</edit>
	</match>

	<!-- Icons / emojis -->
	<match>
		<edit name="family" mode="append">
			<string>Font Awesome 7 Free</string>
			<string>Noto Color Emoji</string>
		</edit>
	</match>

	<!-- Iosevka priority override -->
	<match>
		<test name="lang" compare="or">
			<string>ja</string>
		</test>
		<edit name="family" mode="prepend" binding="strong">
			<string>Iosevka NFP</string>
			<string>Iosevka NF</string>
			<string>Iosevka NFM</string>
			<string>FreeSans</string>
			<string>FreeSerif</string>
			<string>Adwaita Sans</string>
		</edit>
	</match>

	<!-- Japanese -->
	<match>
		<test name="lang" compare="contains">
			<string>ja</string>
		</test>
		<edit name="family" mode="append">
			<string>IPAGothic</string>
			<string>IPAMincho</string>
		</edit>
	</match>

	<!-- Korean -->
	<match>
		<test name="lang" compare="contains">
			<string>ko</string>
		</test>
		<edit name="family" mode="append">
			<string>NanumGothic</string>
			<string>NanumGothicCoding</string>
			<string>NanumSquare</string>
		</edit>
	</match>

	<!-- Chinese -->
	<match>
		<test name="lang" compare="contains">
			<string>zh</string>
		</test>
		<edit name="family" mode="append">
			<string>WenQuanYi Zen Hei</string>
		</edit>
	</match>

	<!-- fallbacks -->
	<match>
		<test name="family" compare="not_eq">
			<string>none</string>
		</test>
		<edit name="family" mode="append">
			<string>Iosevka NFP</string>
			<string>Iosevka NF</string>
			<string>Iosevka NFM</string>
			<string>FreeSans</string>
			<string>FreeSerif</string>
			<string>FreeMono</string>
			<string>Adwaita Sans</string>
			<string>Adwaita Mono</string>
		</edit>
	</match>
</fontconfig>
